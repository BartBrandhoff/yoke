<!DOCTYPE html><html><head><title>Router.java</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../../../../../../../../../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../../../../../../../../../index.html" class="source"><span class="file_name">README</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Engine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Engine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Yoke.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Yoke.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/TRACE.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">TRACE.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/ALL.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">ALL.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/PATCH.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">PATCH.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/CONNECT.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">CONNECT.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/GET.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">GET.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/HEAD.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">HEAD.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Path.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Path.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/PUT.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">PUT.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Consumes.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Consumes.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/DELETE.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">DELETE.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/OPTIONS.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">OPTIONS.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Produces.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Produces.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/POST.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">POST.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/MimeType.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">MimeType.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/Function.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">Function.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/StringPlaceholderEngine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">StringPlaceholderEngine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/AbstractEngine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">AbstractEngine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/DeflateWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">DeflateWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/WriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">WriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/GZipWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">GZipWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/AbstractWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">AbstractWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/RequestProxy.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">RequestProxy.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/AuthHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">AuthHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeRequest.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeRequest.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/MethodOverride.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">MethodOverride.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BasicAuth.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BasicAuth.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Timeout.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Timeout.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Csrf.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Csrf.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/FormAuth.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">FormAuth.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Logger.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Logger.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeCookie.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeCookie.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Static.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Static.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/CookieParser.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">CookieParser.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/ResponseTime.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">ResponseTime.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BodyParser.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BodyParser.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/ErrorHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">ErrorHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Session.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Session.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Compress.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Compress.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BridgeSecureHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BridgeSecureHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Vhost.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Vhost.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeFileUpload.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeFileUpload.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Favicon.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Favicon.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Limit.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Limit.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeResponse.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeResponse.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Router.java.html" class="source selected"><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Router.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/SessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">SessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/SharedDataSessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">SharedDataSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/RedisSessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">RedisSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/AsyncIterator.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">AsyncIterator.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/LRUCache.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">LRUCache.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/Utils.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">Utils.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/test/Response.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">Response.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/test/YokeTester.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">YokeTester.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Middleware.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Middleware.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/YokeAsyncResult.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">YokeAsyncResult.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/JSON.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">JSON.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/impl/ThreadLocalUTCDateFormat.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / impl / </span><span class="file_name">ThreadLocalUTCDateFormat.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/YokeException.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">YokeException.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/Context.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">Context.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/RequestWrapper.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">RequestWrapper.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/engine/GroovyTemplateEngine.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">GroovyTemplateEngine.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/GYoke.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / </span><span class="file_name">GYoke.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GRouter.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GRouter.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeRequest.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeRequest.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GFormAuth.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GFormAuth.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GBasicAuth.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GBasicAuth.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeFileUpload.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeFileUpload.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeResponse.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeResponse.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/store/GSharedDataSessionStore.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / store / </span><span class="file_name">GSharedDataSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/test/GYokeTester.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / test / </span><span class="file_name">GYokeTester.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/core/GMultiMap.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / core / </span><span class="file_name">GMultiMap.java</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/engine/MicroTemplateEngine.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / engine / </span><span class="file_name">MicroTemplateEngine.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/CookieParser.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">CookieParser.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Timeout.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Timeout.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Router.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Router.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Logger.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Logger.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/ErrorHandler.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">ErrorHandler.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Session.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Session.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/ResponseTime.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">ResponseTime.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Vhost.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Vhost.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/BodyParser.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">BodyParser.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Favicon.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Favicon.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/BasicAuth.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">BasicAuth.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Limit.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Limit.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Static.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Static.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/MethodOverride.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">MethodOverride.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/util/Utils.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / util / </span><span class="file_name">Utils.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/Yoke.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / </span><span class="file_name">Yoke.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>Router.java</h1><div class="filepath">framework/src/main/java/com/jetdrone/vertx/yoke/middleware/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Copyright 2011-2014 the original author or authors.</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">jetdrone</span><span class="o">.</span><span class="na">vertx</span><span class="o">.</span><span class="na">yoke</span><span class="o">.</span><span class="na">middleware</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.jetdrone.vertx.yoke.Middleware</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.jetdrone.vertx.yoke.annotations.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.jetdrone.vertx.yoke.util.AsyncIterator</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.vertx.java.core.Handler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.vertx.java.core.MultiMap</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.vertx.java.core.Vertx</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.lang.annotation.Annotation</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.InvocationTargetException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.lang.reflect.Method</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.regex.Matcher</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.regex.Pattern</span><span class="o">;</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><h1>Router</h1></div><div class="body"><p>Route request by path or regular expression. All <em>HTTP</em> verbs are available:</p>

<ul>
<li><code>GET</code></li>
<li><code>PUT</code></li>
<li><code>POST</code></li>
<li><code>DELETE</code></li>
<li><code>OPTIONS</code></li>
<li><code>HEAD</code></li>
<li><code>TRACE</code></li>
<li><code>CONNECT</code></li>
<li><code>PATCH</code></li>
</ul></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Router</span> <span class="kd">extends</span> <span class="n">Middleware</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">getBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">putBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">postBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">deleteBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">optionsBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">headBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">traceBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">connectBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">patchBindings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">&gt;</span> <span class="n">paramProcessors</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Create a new Router Middleware.</p></div><div class="body"><pre>
new Router() {{
  get("/hello", new Handler<YokeRequest>() {
    public void handle(YokeRequest request) {
      request.response().end("Hello World!");
    }
  });
}}
</pre></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="nf">Router</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Middleware</span> <span class="nf">init</span><span class="o">(</span><span class="n">Vertx</span> <span class="n">vertx</span><span class="o">,</span> <span class="n">String</span> <span class="n">mount</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>since this call can happen after the bindings are in place we need to update all bindings to have a reference
to the vertx object</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">getBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">putBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">postBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">deleteBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">optionsBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">headBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">traceBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">connectBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">:</span> <span class="n">patchBindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">switch</span> <span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">method</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="s">&quot;GET&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">getBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">&quot;PUT&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">putBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">&quot;POST&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">postBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">&quot;DELETE&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">deleteBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">&quot;OPTIONS&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">optionsBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">&quot;HEAD&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">headBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">&quot;TRACE&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">traceBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">&quot;PATCH&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">patchBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="s">&quot;CONNECT&quot;</span><span class="o">:</span>
                <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">,</span> <span class="n">connectBindings</span><span class="o">);</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP GET</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">get</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">getBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP GET</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">get</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">get</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP PUT</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">put</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">putBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP PUT</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">put</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">put</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP POST</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">post</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">postBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP POST</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">post</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">post</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP DELETE</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">delete</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">deleteBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-12"><td class="docs"><div class="pilwrap"><a href="#section-12" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP DELETE</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">delete</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">delete</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-13"><td class="docs"><div class="pilwrap"><a href="#section-13" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP OPTIONS</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">options</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">optionsBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-14"><td class="docs"><div class="pilwrap"><a href="#section-14" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP OPTIONS</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">options</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">options</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-15"><td class="docs"><div class="pilwrap"><a href="#section-15" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP HEAD</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">head</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">headBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-16"><td class="docs"><div class="pilwrap"><a href="#section-16" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP HEAD</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">head</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">head</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-17"><td class="docs"><div class="pilwrap"><a href="#section-17" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP TRACE</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">trace</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">traceBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-18"><td class="docs"><div class="pilwrap"><a href="#section-18" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP TRACE</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">trace</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">trace</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-19"><td class="docs"><div class="pilwrap"><a href="#section-19" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP CONNECT</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">connect</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">connectBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-20"><td class="docs"><div class="pilwrap"><a href="#section-20" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP CONNECT</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">connect</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">connect</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-21"><td class="docs"><div class="pilwrap"><a href="#section-21" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP PATCH</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">patch</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addPattern</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">patchBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-22"><td class="docs"><div class="pilwrap"><a href="#section-22" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP PATCH</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">patch</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">patch</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-23"><td class="docs"><div class="pilwrap"><a href="#section-23" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for all HTTP methods</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">all</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">get</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">put</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">post</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">delete</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">options</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">head</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">trace</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">connect</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">patch</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-24"><td class="docs"><div class="pilwrap"><a href="#section-24" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for all HTTP methods</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">pattern</span><span>- simple pattern</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">all</span><span class="o">(</span><span class="n">String</span> <span class="n">pattern</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">get</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">put</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">post</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">delete</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">options</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">head</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">trace</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">connect</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">patch</span><span class="o">(</span><span class="n">pattern</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-25"><td class="docs"><div class="pilwrap"><a href="#section-25" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP GET</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">get</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">getBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-26"><td class="docs"><div class="pilwrap"><a href="#section-26" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP GET</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">get</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">get</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-27"><td class="docs"><div class="pilwrap"><a href="#section-27" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP PUT</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">put</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">putBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-28"><td class="docs"><div class="pilwrap"><a href="#section-28" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP PUT</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">put</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">put</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-29"><td class="docs"><div class="pilwrap"><a href="#section-29" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP POST</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">post</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">postBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-30"><td class="docs"><div class="pilwrap"><a href="#section-30" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP POST</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">post</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">post</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-31"><td class="docs"><div class="pilwrap"><a href="#section-31" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP DELETE</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">delete</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">deleteBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-32"><td class="docs"><div class="pilwrap"><a href="#section-32" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP DELETE</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">delete</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">delete</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-33"><td class="docs"><div class="pilwrap"><a href="#section-33" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP OPTIONS</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">options</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">optionsBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-34"><td class="docs"><div class="pilwrap"><a href="#section-34" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP OPTIONS</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">options</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">options</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-35"><td class="docs"><div class="pilwrap"><a href="#section-35" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP HEAD</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">head</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">headBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-36"><td class="docs"><div class="pilwrap"><a href="#section-36" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP HEAD</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">head</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">head</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-37"><td class="docs"><div class="pilwrap"><a href="#section-37" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP TRACE</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">trace</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">traceBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-38"><td class="docs"><div class="pilwrap"><a href="#section-38" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP TRACE</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">trace</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">trace</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-39"><td class="docs"><div class="pilwrap"><a href="#section-39" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP CONNECT</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">connect</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">connectBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-40"><td class="docs"><div class="pilwrap"><a href="#section-40" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP CONNECT</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">connect</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">connect</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-41"><td class="docs"><div class="pilwrap"><a href="#section-41" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP PATCH</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handlers</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">patch</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Middleware</span> <span class="n">handler</span> <span class="o">:</span> <span class="n">handlers</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">addRegEx</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">,</span> <span class="n">patchBindings</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-42"><td class="docs"><div class="pilwrap"><a href="#section-42" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for a matching HTTP PATCH</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">patch</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">patch</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">handler</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-43"><td class="docs"><div class="pilwrap"><a href="#section-43" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for all HTTP methods</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">all</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span><span class="o">...</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">get</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">put</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">post</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">delete</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">options</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">head</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">trace</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">connect</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">patch</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-44"><td class="docs"><div class="pilwrap"><a href="#section-44" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Specify a middleware that will be called for all HTTP methods</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>A </span><span class="dox_type">regex</span><span>- regular expression</span></div><div class="dox_tag_detail"><span>The </span><span class="dox_type">handler</span><span>- middleware to call</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">all</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">YokeRequest</span><span class="o">&gt;</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">get</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">put</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">post</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">delete</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">options</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">head</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">trace</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">connect</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="n">patch</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">param</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">paramName</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Middleware</span> <span class="n">handler</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-45"><td class="docs"><div class="pilwrap"><a href="#section-45" class="pilcrow">&#182;</a></div><p>also pass the vertx object to the routes</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">handler</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="n">paramProcessors</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Router</span> <span class="nf">param</span><span class="o">(</span><span class="kd">final</span> <span class="n">String</span> <span class="n">paramName</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Pattern</span> <span class="n">regex</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">param</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span> <span class="k">new</span> <span class="n">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="kd">final</span> <span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(!</span><span class="n">regex</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">params</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">paramName</span><span class="o">)).</span><span class="na">matches</span><span class="o">())</span> <span class="o">{</span></pre></div></td></tr><tr id="section-46"><td class="docs"><div class="pilwrap"><a href="#section-46" class="pilcrow">&#182;</a></div><p>Bad Request</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="mi">400</span><span class="o">);</span>
                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>

                <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">addPattern</span><span class="o">(</span><span class="n">String</span> <span class="n">input</span><span class="o">,</span> <span class="n">Middleware</span> <span class="n">handler</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">bindings</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-47"><td class="docs"><div class="pilwrap"><a href="#section-47" class="pilcrow">&#182;</a></div><p>We need to search for any :<token name> tokens in the String and replace them with named capture groups</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">Matcher</span> <span class="n">m</span> <span class="o">=</span>  <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">&quot;:([A-Za-z][A-Za-z0-9_]*)&quot;</span><span class="o">).</span><span class="na">matcher</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
        <span class="n">StringBuffer</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">();</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">groups</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="k">while</span> <span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="na">find</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">String</span> <span class="n">group</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="na">group</span><span class="o">().</span><span class="na">substring</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">groups</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">group</span><span class="o">))</span> <span class="o">{</span>
                <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;Cannot use identifier &quot;</span> <span class="o">+</span> <span class="n">group</span> <span class="o">+</span> <span class="s">&quot; more than once in pattern string&quot;</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="n">m</span><span class="o">.</span><span class="na">appendReplacement</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="s">&quot;(?&lt;$1&gt;[^\\/]+)&quot;</span><span class="o">);</span>
            <span class="n">groups</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">group</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">m</span><span class="o">.</span><span class="na">appendTail</span><span class="o">(</span><span class="n">sb</span><span class="o">);</span></pre></div></td></tr><tr id="section-48"><td class="docs"><div class="pilwrap"><a href="#section-48" class="pilcrow">&#182;</a></div><p>ignore tailing slash if not part of the input, not really REST but common on other frameworks</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">)</span> <span class="o">!=</span> <span class="sc">&#39;/&#39;</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">sb</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">&quot;\\/?$&quot;</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">String</span> <span class="n">regex</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PatternBinding</span><span class="o">(</span><span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="n">regex</span><span class="o">),</span> <span class="n">groups</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span></pre></div></td></tr><tr id="section-49"><td class="docs"><div class="pilwrap"><a href="#section-49" class="pilcrow">&#182;</a></div><p>also pass the vertx object to the routes</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">handler</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="n">bindings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">binding</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">addRegEx</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">regex</span><span class="o">,</span> <span class="n">Middleware</span> <span class="n">handler</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">bindings</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">PatternBinding</span> <span class="n">binding</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PatternBinding</span><span class="o">(</span><span class="n">regex</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">handler</span><span class="o">);</span></pre></div></td></tr><tr id="section-50"><td class="docs"><div class="pilwrap"><a href="#section-50" class="pilcrow">&#182;</a></div><p>also pass the vertx object to the routes</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">handler</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">vertx</span><span class="o">,</span> <span class="n">mount</span><span class="o">);</span>
        <span class="n">bindings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">binding</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">route</span><span class="o">(</span><span class="kd">final</span> <span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">,</span> <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;</span> <span class="n">bindings</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">new</span> <span class="n">AsyncIterator</span><span class="o">&lt;</span><span class="n">PatternBinding</span><span class="o">&gt;(</span><span class="n">bindings</span><span class="o">)</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">PatternBinding</span> <span class="n">binding</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">hasNext</span><span class="o">())</span> <span class="o">{</span>
                    <span class="n">route</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">binding</span><span class="o">,</span> <span class="k">new</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
                        <span class="nd">@Override</span>
                        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">Object</span> <span class="n">err</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">err</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                                <span class="n">next</span><span class="o">();</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">err</span><span class="o">);</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">});</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span></pre></div></td></tr><tr id="section-51"><td class="docs"><div class="pilwrap"><a href="#section-51" class="pilcrow">&#182;</a></div><p>continue with yoke</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">};</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">route</span><span class="o">(</span><span class="kd">final</span> <span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="kd">final</span> <span class="n">PatternBinding</span> <span class="n">binding</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">Matcher</span> <span class="n">m</span> <span class="o">=</span> <span class="n">binding</span><span class="o">.</span><span class="na">pattern</span><span class="o">.</span><span class="na">matcher</span><span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">path</span><span class="o">());</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="na">matches</span><span class="o">())</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="n">MultiMap</span> <span class="n">params</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">params</span><span class="o">();</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">binding</span><span class="o">.</span><span class="na">paramNames</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-52"><td class="docs"><div class="pilwrap"><a href="#section-52" class="pilcrow">&#182;</a></div><p>Named params</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">new</span> <span class="n">AsyncIterator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;(</span><span class="n">binding</span><span class="o">.</span><span class="na">paramNames</span><span class="o">)</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">String</span> <span class="n">param</span><span class="o">)</span> <span class="o">{</span>
                        <span class="k">if</span> <span class="o">(</span><span class="n">hasNext</span><span class="o">())</span> <span class="o">{</span>
                            <span class="n">params</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">param</span><span class="o">,</span> <span class="n">m</span><span class="o">.</span><span class="na">group</span><span class="o">(</span><span class="n">param</span><span class="o">));</span>
                            <span class="n">Middleware</span> <span class="n">paramMiddleware</span> <span class="o">=</span> <span class="n">paramProcessors</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">param</span><span class="o">);</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">paramMiddleware</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                                <span class="n">paramMiddleware</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="k">new</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;()</span> <span class="o">{</span>
                                    <span class="nd">@Override</span>
                                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">Object</span> <span class="n">err</span><span class="o">)</span> <span class="o">{</span>
                                        <span class="k">if</span> <span class="o">(</span><span class="n">err</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                                            <span class="n">next</span><span class="o">();</span>
                                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                            <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">err</span><span class="o">);</span>
                                        <span class="o">}</span>
                                    <span class="o">}</span>
                                <span class="o">});</span>
                            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                                <span class="n">next</span><span class="o">();</span>
                            <span class="o">}</span>
                        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                            <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">);</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">};</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span></pre></div></td></tr><tr id="section-53"><td class="docs"><div class="pilwrap"><a href="#section-53" class="pilcrow">&#182;</a></div><p>Un-named params</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">.</span><span class="na">groupCount</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                    <span class="n">params</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;param&quot;</span> <span class="o">+</span> <span class="n">i</span><span class="o">,</span> <span class="n">m</span><span class="o">.</span><span class="na">group</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">));</span>
                <span class="o">}</span>
                <span class="n">binding</span><span class="o">.</span><span class="na">middleware</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">PatternBinding</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">Pattern</span> <span class="n">pattern</span><span class="o">;</span>
        <span class="kd">final</span> <span class="n">Middleware</span> <span class="n">middleware</span><span class="o">;</span>
        <span class="kd">final</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">paramNames</span><span class="o">;</span>

        <span class="kd">private</span> <span class="nf">PatternBinding</span><span class="o">(</span><span class="n">Pattern</span> <span class="n">pattern</span><span class="o">,</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">paramNames</span><span class="o">,</span> <span class="n">Middleware</span> <span class="n">middleware</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">pattern</span> <span class="o">=</span> <span class="n">pattern</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">paramNames</span> <span class="o">=</span> <span class="n">paramNames</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">middleware</span> <span class="o">=</span> <span class="n">middleware</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">getPath</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">,</span> <span class="n">Method</span> <span class="n">m</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-54"><td class="docs"><div class="pilwrap"><a href="#section-54" class="pilcrow">&#182;</a></div><p>read the method one</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">Path</span> <span class="n">p</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">Path</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">p</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-55"><td class="docs"><div class="pilwrap"><a href="#section-55" class="pilcrow">&#182;</a></div><p>method path is present</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="na">value</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="n">p</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">Path</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">p</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-56"><td class="docs"><div class="pilwrap"><a href="#section-56" class="pilcrow">&#182;</a></div><p>top level path is present</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="na">value</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">&quot;Cannot infer the path for this method&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Middleware</span> <span class="nf">wrap</span><span class="o">(</span><span class="kd">final</span> <span class="n">Object</span> <span class="n">o</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Method</span> <span class="n">m</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">simple</span><span class="o">,</span> <span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">consumes</span><span class="o">,</span> <span class="kd">final</span> <span class="n">String</span><span class="o">[]</span> <span class="n">produces</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">Middleware</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">try</span> <span class="o">{</span></pre></div></td></tr><tr id="section-57"><td class="docs"><div class="pilwrap"><a href="#section-57" class="pilcrow">&#182;</a></div><p>we only know how to process certain media types</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="k">if</span> <span class="o">(</span><span class="n">consumes</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                        <span class="kt">boolean</span> <span class="n">canConsume</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">c</span> <span class="o">:</span> <span class="n">consumes</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">is</span><span class="o">(</span><span class="n">c</span><span class="o">))</span> <span class="o">{</span>
                                <span class="n">canConsume</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                                <span class="k">break</span><span class="o">;</span>
                            <span class="o">}</span>
                        <span class="o">}</span>

                        <span class="k">if</span> <span class="o">(!</span><span class="n">canConsume</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-58"><td class="docs"><div class="pilwrap"><a href="#section-58" class="pilcrow">&#182;</a></div><p>415 Unsupported Media Type (we don't know how to handle this media)</p>
</td><td class="code"><div class="highlight"><pre>                            <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="mi">415</span><span class="o">);</span>
                            <span class="k">return</span><span class="o">;</span>
                        <span class="o">}</span>
                    <span class="o">}</span></pre></div></td></tr><tr id="section-59"><td class="docs"><div class="pilwrap"><a href="#section-59" class="pilcrow">&#182;</a></div><p>the object was marked with a specific content type</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="k">if</span> <span class="o">(</span><span class="n">produces</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">String</span> <span class="n">bestContentType</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">accepts</span><span class="o">(</span><span class="n">produces</span><span class="o">);</span></pre></div></td></tr><tr id="section-60"><td class="docs"><div class="pilwrap"><a href="#section-60" class="pilcrow">&#182;</a></div><p>the client does not know how to handle our content type, return 406</p>
</td><td class="code"><div class="highlight"><pre>                        <span class="k">if</span> <span class="o">(</span><span class="n">bestContentType</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                            <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="mi">406</span><span class="o">);</span>
                            <span class="k">return</span><span class="o">;</span>
                        <span class="o">}</span></pre></div></td></tr><tr id="section-61"><td class="docs"><div class="pilwrap"><a href="#section-61" class="pilcrow">&#182;</a></div><p>mark the response with the correct content type (which allows middleware to know it later on)</p>
</td><td class="code"><div class="highlight"><pre>                        <span class="n">request</span><span class="o">.</span><span class="na">response</span><span class="o">().</span><span class="na">setContentType</span><span class="o">(</span><span class="n">bestContentType</span><span class="o">);</span>
                    <span class="o">}</span>

                    <span class="k">if</span> <span class="o">(</span><span class="n">simple</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">m</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">request</span><span class="o">);</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="n">m</span><span class="o">.</span><span class="na">invoke</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">request</span><span class="o">,</span> <span class="n">next</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalAccessException</span> <span class="o">|</span> <span class="n">InvocationTargetException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
                    <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">};</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-62"><td class="docs"><div class="pilwrap"><a href="#section-62" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Builds a Router from an annotated Java Object</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Router</span> <span class="nf">from</span><span class="o">(</span><span class="n">Object</span><span class="o">...</span> <span class="n">objs</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">Router</span> <span class="n">router</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Router</span><span class="o">();</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">Object</span> <span class="n">o</span> <span class="o">:</span> <span class="n">objs</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">for</span> <span class="o">(</span><span class="kd">final</span> <span class="n">Method</span> <span class="n">m</span> <span class="o">:</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getMethods</span><span class="o">())</span> <span class="o">{</span>
                <span class="n">Annotation</span><span class="o">[]</span> <span class="n">annotations</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="na">getAnnotations</span><span class="o">();</span></pre></div></td></tr><tr id="section-63"><td class="docs"><div class="pilwrap"><a href="#section-63" class="pilcrow">&#182;</a></div><p>this method is not annotated</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">if</span> <span class="o">(</span><span class="n">annotations</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">continue</span><span class="o">;</span>
                <span class="o">}</span>

                <span class="n">Class</span><span class="o">[]</span> <span class="n">paramTypes</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="na">getParameterTypes</span><span class="o">();</span>
                <span class="kt">int</span> <span class="n">type</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">paramTypes</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">paramTypes</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">paramTypes</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="n">YokeRequest</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span></pre></div></td></tr><tr id="section-64"><td class="docs"><div class="pilwrap"><a href="#section-64" class="pilcrow">&#182;</a></div><p>single argument handler</p>
</td><td class="code"><div class="highlight"><pre>                        <span class="n">type</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">paramTypes</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">&amp;&amp;</span> <span class="n">paramTypes</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="n">YokeRequest</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">paramTypes</span><span class="o">[</span><span class="mi">1</span><span class="o">].</span><span class="na">equals</span><span class="o">(</span><span class="n">Handler</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span></pre></div></td></tr><tr id="section-65"><td class="docs"><div class="pilwrap"><a href="#section-65" class="pilcrow">&#182;</a></div><p>double argument handler</p>
</td><td class="code"><div class="highlight"><pre>                        <span class="n">type</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
                    <span class="o">}</span>
                <span class="o">}</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">type</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">continue</span><span class="o">;</span>
                <span class="o">}</span>

                <span class="n">String</span> <span class="n">path</span> <span class="o">=</span> <span class="n">getPath</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">);</span>

                <span class="n">String</span><span class="o">[]</span> <span class="n">produces</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
                <span class="n">String</span><span class="o">[]</span> <span class="n">consumes</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span></pre></div></td></tr><tr id="section-66"><td class="docs"><div class="pilwrap"><a href="#section-66" class="pilcrow">&#182;</a></div><p>identify produces/consumes for content negotiation</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">for</span> <span class="o">(</span><span class="n">Annotation</span> <span class="n">a</span> <span class="o">:</span> <span class="n">annotations</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">Consumes</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">consumes</span> <span class="o">=</span> <span class="o">((</span><span class="n">Consumes</span><span class="o">)</span> <span class="n">a</span><span class="o">).</span><span class="na">value</span><span class="o">();</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">Produces</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">produces</span> <span class="o">=</span> <span class="o">((</span><span class="n">Produces</span><span class="o">)</span> <span class="n">a</span><span class="o">).</span><span class="na">value</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}</span></pre></div></td></tr><tr id="section-67"><td class="docs"><div class="pilwrap"><a href="#section-67" class="pilcrow">&#182;</a></div><p>if still null inspect class</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">if</span> <span class="o">(</span><span class="n">consumes</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">Annotation</span> <span class="n">c</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">Consumes</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">c</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-68"><td class="docs"><div class="pilwrap"><a href="#section-68" class="pilcrow">&#182;</a></div><p>top level consumes is present</p>
</td><td class="code"><div class="highlight"><pre>                        <span class="n">consumes</span> <span class="o">=</span> <span class="o">((</span><span class="n">Consumes</span><span class="o">)</span> <span class="n">c</span><span class="o">).</span><span class="na">value</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">produces</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">Annotation</span> <span class="n">p</span> <span class="o">=</span> <span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">getAnnotation</span><span class="o">(</span><span class="n">Produces</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">p</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-69"><td class="docs"><div class="pilwrap"><a href="#section-69" class="pilcrow">&#182;</a></div><p>top level consumes is present</p>
</td><td class="code"><div class="highlight"><pre>                        <span class="n">produces</span> <span class="o">=</span> <span class="o">((</span><span class="n">Produces</span><span class="o">)</span> <span class="n">p</span><span class="o">).</span><span class="na">value</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}</span>

                <span class="k">for</span> <span class="o">(</span><span class="n">Annotation</span> <span class="n">a</span> <span class="o">:</span> <span class="n">annotations</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">GET</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">PUT</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">POST</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">DELETE</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">OPTIONS</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">options</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">HEAD</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">head</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">TRACE</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">trace</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">PATCH</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">patch</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">CONNECT</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">connect</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">a</span> <span class="k">instanceof</span> <span class="n">ALL</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">router</span><span class="o">.</span><span class="na">all</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">wrap</span><span class="o">(</span><span class="n">o</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="n">type</span> <span class="o">==</span> <span class="mi">1</span><span class="o">,</span> <span class="n">consumes</span><span class="o">,</span> <span class="n">produces</span><span class="o">));</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">router</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Thu Jan 30 2014 16:30:35 GMT+0100 (CET)  </div><div id="projectname"><a href="../../../../../../../../../index.html">Yoke</a></div></div></body></html>