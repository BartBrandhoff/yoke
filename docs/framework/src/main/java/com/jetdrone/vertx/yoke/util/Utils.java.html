<!DOCTYPE html><html><head><title>Utils.java</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../../../../../../../../../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../../../../../../../../../index.html" class="source"><span class="file_name">README</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Engine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Engine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Yoke.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Yoke.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/TRACE.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">TRACE.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/ALL.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">ALL.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/PATCH.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">PATCH.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/CONNECT.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">CONNECT.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/GET.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">GET.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/HEAD.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">HEAD.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Path.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Path.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/PUT.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">PUT.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Consumes.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Consumes.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/DELETE.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">DELETE.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/OPTIONS.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">OPTIONS.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Produces.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Produces.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/POST.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">POST.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/MimeType.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">MimeType.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/Function.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">Function.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/StringPlaceholderEngine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">StringPlaceholderEngine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/AbstractEngine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">AbstractEngine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/DeflateWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">DeflateWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/WriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">WriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/GZipWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">GZipWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/AbstractWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">AbstractWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/RequestProxy.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">RequestProxy.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/AuthHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">AuthHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeRequest.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeRequest.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/MethodOverride.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">MethodOverride.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BasicAuth.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BasicAuth.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Timeout.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Timeout.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Csrf.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Csrf.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/FormAuth.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">FormAuth.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Logger.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Logger.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeCookie.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeCookie.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Static.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Static.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/CookieParser.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">CookieParser.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/ResponseTime.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">ResponseTime.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BodyParser.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BodyParser.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/ErrorHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">ErrorHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Session.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Session.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Compress.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Compress.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BridgeSecureHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BridgeSecureHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Vhost.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Vhost.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeFileUpload.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeFileUpload.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Favicon.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Favicon.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Limit.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Limit.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeResponse.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeResponse.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Router.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Router.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/SessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">SessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/SharedDataSessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">SharedDataSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/RedisSessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">RedisSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/AsyncIterator.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">AsyncIterator.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/LRUCache.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">LRUCache.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/Utils.java.html" class="source selected"><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">Utils.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/test/Response.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">Response.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/test/YokeTester.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">YokeTester.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Middleware.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Middleware.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/YokeAsyncResult.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">YokeAsyncResult.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/JSON.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">JSON.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/impl/ThreadLocalUTCDateFormat.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / impl / </span><span class="file_name">ThreadLocalUTCDateFormat.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/YokeException.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">YokeException.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/Context.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">Context.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/RequestWrapper.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">RequestWrapper.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/engine/GroovyTemplateEngine.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">GroovyTemplateEngine.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/GYoke.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / </span><span class="file_name">GYoke.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GRouter.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GRouter.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeRequest.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeRequest.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GFormAuth.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GFormAuth.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GBasicAuth.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GBasicAuth.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeFileUpload.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeFileUpload.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeResponse.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeResponse.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/store/GSharedDataSessionStore.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / store / </span><span class="file_name">GSharedDataSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/test/GYokeTester.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / test / </span><span class="file_name">GYokeTester.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/core/GMultiMap.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / core / </span><span class="file_name">GMultiMap.java</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/engine/MicroTemplateEngine.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / engine / </span><span class="file_name">MicroTemplateEngine.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/CookieParser.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">CookieParser.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Timeout.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Timeout.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Router.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Router.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Logger.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Logger.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/ErrorHandler.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">ErrorHandler.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Session.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Session.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/ResponseTime.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">ResponseTime.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Vhost.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Vhost.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/BodyParser.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">BodyParser.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Favicon.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Favicon.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/BasicAuth.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">BasicAuth.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Limit.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Limit.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Static.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Static.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/MethodOverride.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">MethodOverride.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/util/Utils.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / util / </span><span class="file_name">Utils.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/Yoke.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / </span><span class="file_name">Yoke.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>Utils.java</h1><div class="filepath">framework/src/main/java/com/jetdrone/vertx/yoke/util/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Copyright 2011-2014 the original author or authors.</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">jetdrone</span><span class="o">.</span><span class="na">vertx</span><span class="o">.</span><span class="na">yoke</span><span class="o">.</span><span class="na">util</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.vertx.java.core.buffer.Buffer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.vertx.java.core.json.JsonArray</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.vertx.java.core.json.JsonObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.crypto.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.crypto.spec.SecretKeySpec</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.bind.DatatypeConverter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.XMLOutputFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.XMLStreamException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.stream.XMLStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.transform.Transformer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.transform.TransformerException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.transform.TransformerFactory</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.transform.stream.StreamResult</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.xml.transform.stream.StreamSource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLDecoder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.net.URLEncoder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.security.InvalidKeyException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.security.Key</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.security.NoSuchAlgorithmException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">Utils</span> <span class="o">{</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><p>no instantiation</p>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">private</span> <span class="nf">Utils</span> <span class="o">()</span> <span class="o">{}</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="kt">char</span><span class="o">[]</span> <span class="n">HEXARRAY</span> <span class="o">=</span> <span class="s">&quot;0123456789ABCDEF&quot;</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">();</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">hex</span><span class="o">(</span><span class="kt">byte</span><span class="o">[]</span> <span class="n">bytes</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">char</span><span class="o">[]</span> <span class="n">hexChars</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="n">bytes</span><span class="o">.</span><span class="na">length</span> <span class="o">*</span> <span class="mi">2</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">v</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span> <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">bytes</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">v</span> <span class="o">=</span> <span class="n">bytes</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">&amp;</span> <span class="mi">0</span><span class="n">xFF</span><span class="o">;</span>
            <span class="n">hexChars</span><span class="o">[</span><span class="n">j</span> <span class="o">*</span> <span class="mi">2</span><span class="o">]</span> <span class="o">=</span> <span class="n">HEXARRAY</span><span class="o">[</span><span class="n">v</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">4</span><span class="o">];</span>
            <span class="n">hexChars</span><span class="o">[</span><span class="n">j</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">HEXARRAY</span><span class="o">[</span><span class="n">v</span> <span class="o">&amp;</span> <span class="mh">0x0</span><span class="n">F</span><span class="o">];</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">hexChars</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">BASE64ALPHA</span> <span class="o">=</span> <span class="s">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">byte</span><span class="o">[]</span> <span class="nf">zeroPad</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">length</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">bytes</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">padded</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">length</span><span class="o">];</span>
        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">bytes</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">padded</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">bytes</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">padded</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">base64</span><span class="o">(</span><span class="kd">final</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">stringArray</span><span class="o">)</span> <span class="o">{</span>

        <span class="kd">final</span> <span class="n">StringBuilder</span> <span class="n">encoded</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuilder</span><span class="o">();</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><p>determine how many padding bytes to add to the output</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">final</span> <span class="kt">int</span> <span class="n">paddingCount</span> <span class="o">=</span> <span class="o">(</span><span class="mi">3</span> <span class="o">-</span> <span class="o">(</span><span class="n">stringArray</span><span class="o">.</span><span class="na">length</span> <span class="o">%</span> <span class="mi">3</span><span class="o">))</span> <span class="o">%</span> <span class="mi">3</span><span class="o">;</span></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>add any necessary padding to the input</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">final</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">paddedArray</span> <span class="o">=</span> <span class="n">zeroPad</span><span class="o">(</span><span class="n">stringArray</span><span class="o">.</span><span class="na">length</span> <span class="o">+</span> <span class="n">paddingCount</span><span class="o">,</span> <span class="n">stringArray</span><span class="o">);</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>process 3 bytes at a time, churning out 4 output bytes</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">paddedArray</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">3</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="o">((</span><span class="n">paddedArray</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="o">)</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="o">)</span> <span class="o">+</span>
                    <span class="o">((</span><span class="n">paddedArray</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">]</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="o">)</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="o">)</span> <span class="o">+</span>
                    <span class="o">(</span><span class="n">paddedArray</span><span class="o">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="o">]</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="o">);</span>

            <span class="n">encoded</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">BASE64ALPHA</span><span class="o">.</span><span class="na">charAt</span><span class="o">((</span><span class="n">j</span> <span class="o">&gt;&gt;</span> <span class="mi">18</span><span class="o">)</span> <span class="o">&amp;</span> <span class="mh">0x3f</span><span class="o">));</span>
            <span class="n">encoded</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">BASE64ALPHA</span><span class="o">.</span><span class="na">charAt</span><span class="o">((</span><span class="n">j</span> <span class="o">&gt;&gt;</span> <span class="mi">12</span><span class="o">)</span> <span class="o">&amp;</span> <span class="mh">0x3f</span><span class="o">));</span>
            <span class="n">encoded</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">BASE64ALPHA</span><span class="o">.</span><span class="na">charAt</span><span class="o">((</span><span class="n">j</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="o">)</span> <span class="o">&amp;</span> <span class="mh">0x3f</span><span class="o">));</span>
            <span class="n">encoded</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="n">BASE64ALPHA</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span> <span class="o">&amp;</span> <span class="mh">0x3f</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="n">encoded</span><span class="o">.</span><span class="na">setLength</span><span class="o">(</span><span class="n">encoded</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">paddingCount</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">encoded</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Avoid using this method for constant reads, use it only for one time only reads from resources in the classpath</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Buffer</span> <span class="nf">readResourceToBuffer</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span><span class="o">,</span> <span class="n">String</span> <span class="n">resource</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Buffer</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Buffer</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>

            <span class="k">try</span> <span class="o">(</span><span class="n">InputStream</span> <span class="n">in</span> <span class="o">=</span> <span class="n">clazz</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="n">resource</span><span class="o">))</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">read</span><span class="o">;</span>
                <span class="kt">byte</span><span class="o">[]</span> <span class="n">data</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">4096</span><span class="o">];</span>
                <span class="k">while</span> <span class="o">((</span><span class="n">read</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">length</span><span class="o">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">read</span> <span class="o">==</span> <span class="n">data</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">buffer</span><span class="o">.</span><span class="na">appendBytes</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="kt">byte</span><span class="o">[]</span> <span class="n">slice</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="n">read</span><span class="o">];</span>
                        <span class="n">System</span><span class="o">.</span><span class="na">arraycopy</span><span class="o">(</span><span class="n">data</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">slice</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">slice</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
                        <span class="n">buffer</span><span class="o">.</span><span class="na">appendBytes</span><span class="o">(</span><span class="n">slice</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>

            <span class="k">return</span> <span class="n">buffer</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ioe</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">ioe</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Avoid using this method for constant reads, use it only for one time only reads from resources in the classpath</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">readResourceToString</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span class="n">clazz</span><span class="o">,</span> <span class="n">String</span> <span class="n">resource</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">(</span><span class="n">Reader</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">clazz</span><span class="o">.</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="n">resource</span><span class="o">),</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)))</span> <span class="o">{</span>

                <span class="n">Writer</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringWriter</span><span class="o">();</span>

                <span class="kt">char</span><span class="o">[]</span> <span class="n">buffer</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">char</span><span class="o">[</span><span class="mi">1024</span><span class="o">];</span>
                <span class="kt">int</span> <span class="n">n</span><span class="o">;</span>
                <span class="k">while</span> <span class="o">((</span><span class="n">n</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">buffer</span><span class="o">))</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">buffer</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">n</span><span class="o">);</span>
                <span class="o">}</span>

                <span class="k">return</span> <span class="n">writer</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ioe</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">ioe</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Creates a new HmacSHA256 Message Authentication Code</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">secret</span><span>- secret key used to create signatures</span></div><div class="dox_tag_title">Returns</div><div class="dox_tag_detail"><span class="dox_type">Mac</span><span>implementation</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Mac</span> <span class="nf">newHmacSHA256</span><span class="o">(</span><span class="n">String</span> <span class="n">secret</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Mac</span> <span class="n">hmacSHA256</span> <span class="o">=</span> <span class="n">Mac</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">&quot;HmacSHA256&quot;</span><span class="o">);</span>
            <span class="n">hmacSHA256</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">new</span> <span class="n">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="n">hmacSHA256</span><span class="o">.</span><span class="na">getAlgorithm</span><span class="o">()));</span>
            <span class="k">return</span> <span class="n">hmacSHA256</span><span class="o">;</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">NoSuchAlgorithmException</span> <span class="o">|</span> <span class="n">InvalidKeyException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Creates a new Crypto KEY</p></div><div class="details"><div class="dox_tag_title">Params</div><div class="dox_tag_detail"><span>The </span><span class="dox_type">secret</span><span>- secret key used to create signatures</span></div><div class="dox_tag_title">Returns</div><div class="dox_tag_detail"><span class="dox_type">Key</span><span>implementation</span></div></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Key</span> <span class="nf">newCryptoKey</span><span class="o">(</span><span class="n">String</span> <span class="n">secret</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">SecretKeySpec</span><span class="o">(</span><span class="n">secret</span><span class="o">.</span><span class="na">getBytes</span><span class="o">(),</span> <span class="s">&quot;AES&quot;</span><span class="o">);</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Signs a String value with a given MAC</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">sign</span><span class="o">(</span><span class="n">String</span> <span class="n">val</span><span class="o">,</span> <span class="n">Mac</span> <span class="n">mac</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">mac</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">val</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span> <span class="o">+</span> <span class="n">base64</span><span class="o">(</span><span class="n">mac</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">val</span><span class="o">.</span><span class="na">getBytes</span><span class="o">()));</span>
    <span class="o">}</span></pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Returns the original value is the signature is correct. Null otherwise.</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">unsign</span><span class="o">(</span><span class="n">String</span> <span class="n">val</span><span class="o">,</span> <span class="n">Mac</span> <span class="n">mac</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">idx</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="na">lastIndexOf</span><span class="o">(</span><span class="sc">&#39;.&#39;</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">idx</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">idx</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">val</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">sign</span><span class="o">(</span><span class="n">str</span><span class="o">,</span> <span class="n">mac</span><span class="o">)))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">str</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">encrypt</span><span class="o">(</span><span class="n">String</span> <span class="n">val</span><span class="o">,</span> <span class="n">Key</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Cipher</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Cipher</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">&quot;AES&quot;</span><span class="o">);</span>
            <span class="n">c</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">Cipher</span><span class="o">.</span><span class="na">ENCRYPT_MODE</span><span class="o">,</span> <span class="n">key</span><span class="o">);</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">encVal</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">val</span><span class="o">.</span><span class="na">getBytes</span><span class="o">());</span>
            <span class="k">return</span> <span class="nf">base64</span><span class="o">(</span><span class="n">encVal</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalBlockSizeException</span> <span class="o">|</span> <span class="n">InvalidKeyException</span> <span class="o">|</span> <span class="n">BadPaddingException</span> <span class="o">|</span> <span class="n">NoSuchAlgorithmException</span> <span class="o">|</span> <span class="n">NoSuchPaddingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">decrypt</span><span class="o">(</span><span class="n">String</span> <span class="n">val</span><span class="o">,</span> <span class="n">Key</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Cipher</span> <span class="n">c</span> <span class="o">=</span> <span class="n">Cipher</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="s">&quot;AES&quot;</span><span class="o">);</span>
            <span class="n">c</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="n">Cipher</span><span class="o">.</span><span class="na">DECRYPT_MODE</span><span class="o">,</span> <span class="n">key</span><span class="o">);</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">decordedValue</span> <span class="o">=</span> <span class="n">DatatypeConverter</span><span class="o">.</span><span class="na">parseBase64Binary</span><span class="o">(</span><span class="n">val</span><span class="o">);</span>
            <span class="kt">byte</span><span class="o">[]</span> <span class="n">decValue</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="na">doFinal</span><span class="o">(</span><span class="n">decordedValue</span><span class="o">);</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">String</span><span class="o">(</span><span class="n">decValue</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalBlockSizeException</span> <span class="o">|</span> <span class="n">InvalidKeyException</span> <span class="o">|</span> <span class="n">BadPaddingException</span> <span class="o">|</span> <span class="n">NoSuchAlgorithmException</span> <span class="o">|</span> <span class="n">NoSuchPaddingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">escape</span><span class="o">(</span><span class="n">String</span> <span class="n">html</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">html</span>
                <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;&amp;&quot;</span><span class="o">,</span> <span class="s">&quot;&amp;amp;&quot;</span><span class="o">)</span>
                <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;\&quot;&quot;</span><span class="o">,</span> <span class="s">&quot;&amp;quot;&quot;</span><span class="o">)</span>
                <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;&lt;&quot;</span><span class="o">,</span> <span class="s">&quot;&amp;lt;&quot;</span><span class="o">)</span>
                <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;&gt;&quot;</span><span class="o">,</span> <span class="s">&quot;&amp;gt;&quot;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">TransformerFactory</span> <span class="n">TRANSFORMER_FACTORY</span> <span class="o">=</span> <span class="n">TransformerFactory</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">XSLT</span> <span class="o">=</span> <span class="n">Utils</span><span class="o">.</span><span class="na">readResourceToString</span><span class="o">(</span><span class="n">Utils</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&quot;xml-to-json.xsl&quot;</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">JsonObject</span> <span class="nf">xmlToJson</span><span class="o">(</span><span class="n">String</span> <span class="n">xml</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">TransformerException</span> <span class="o">{</span></pre></div></td></tr><tr id="section-12"><td class="docs"><div class="pilwrap"><a href="#section-12" class="pilcrow">&#182;</a></div><p>allocate the size of the xml (this is probably is more than needed but avoid re-allocations)</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">StringWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringWriter</span><span class="o">(</span><span class="n">xml</span><span class="o">.</span><span class="na">length</span><span class="o">());</span>

        <span class="n">Transformer</span> <span class="n">transformer</span> <span class="o">=</span> <span class="n">TRANSFORMER_FACTORY</span><span class="o">.</span><span class="na">newTransformer</span><span class="o">(</span><span class="k">new</span> <span class="n">StreamSource</span><span class="o">(</span><span class="k">new</span> <span class="n">StringReader</span><span class="o">(</span><span class="n">XSLT</span><span class="o">)));</span>
        <span class="n">transformer</span><span class="o">.</span><span class="na">transform</span><span class="o">(</span><span class="k">new</span> <span class="n">StreamSource</span><span class="o">(</span><span class="k">new</span> <span class="n">StringReader</span><span class="o">(</span><span class="n">xml</span><span class="o">)),</span> <span class="k">new</span> <span class="n">StreamResult</span><span class="o">(</span><span class="n">out</span><span class="o">));</span>

        <span class="k">return</span> <span class="k">new</span> <span class="nf">JsonObject</span><span class="o">(</span><span class="n">out</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">XMLOutputFactory</span> <span class="n">XML_OUTPUT_FACTORY</span> <span class="o">=</span> <span class="n">XMLOutputFactory</span><span class="o">.</span><span class="na">newInstance</span><span class="o">();</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">jsonToXml</span><span class="o">(</span><span class="n">JsonObject</span> <span class="n">json</span><span class="o">,</span> <span class="n">String</span> <span class="n">rootName</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">XMLStreamException</span> <span class="o">{</span>
        <span class="n">Writer</span> <span class="n">xml</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringWriter</span><span class="o">();</span></pre></div></td></tr><tr id="section-13"><td class="docs"><div class="pilwrap"><a href="#section-13" class="pilcrow">&#182;</a></div><p>Create an XML stream writer</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">XMLStreamWriter</span> <span class="n">xmlw</span> <span class="o">=</span> <span class="n">XML_OUTPUT_FACTORY</span><span class="o">.</span><span class="na">createXMLStreamWriter</span><span class="o">(</span><span class="n">xml</span><span class="o">);</span></pre></div></td></tr><tr id="section-14"><td class="docs"><div class="pilwrap"><a href="#section-14" class="pilcrow">&#182;</a></div><p>Write XML prologue</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">xmlw</span><span class="o">.</span><span class="na">writeStartDocument</span><span class="o">();</span></pre></div></td></tr><tr id="section-15"><td class="docs"><div class="pilwrap"><a href="#section-15" class="pilcrow">&#182;</a></div><p>perform real conversion</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">jsonToXml</span><span class="o">(</span><span class="n">xmlw</span><span class="o">,</span> <span class="n">json</span><span class="o">,</span> <span class="n">rootName</span><span class="o">);</span></pre></div></td></tr><tr id="section-16"><td class="docs"><div class="pilwrap"><a href="#section-16" class="pilcrow">&#182;</a></div><p>Close the writer to flush the output</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">xmlw</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>

        <span class="k">return</span> <span class="n">xml</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">jsonToXml</span><span class="o">(</span><span class="n">XMLStreamWriter</span> <span class="n">writer</span><span class="o">,</span> <span class="n">JsonObject</span> <span class="n">json</span><span class="o">,</span> <span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">XMLStreamException</span> <span class="o">{</span></pre></div></td></tr><tr id="section-17"><td class="docs"><div class="pilwrap"><a href="#section-17" class="pilcrow">&#182;</a></div><p>get all field names</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">fields</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="na">getFieldNames</span><span class="o">();</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">fields</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-18"><td class="docs"><div class="pilwrap"><a href="#section-18" class="pilcrow">&#182;</a></div><p>start with element name</p>
</td><td class="code"><div class="highlight"><pre>            <span class="n">writer</span><span class="o">.</span><span class="na">writeEmptyElement</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span></pre></div></td></tr><tr id="section-19"><td class="docs"><div class="pilwrap"><a href="#section-19" class="pilcrow">&#182;</a></div><p>start with element name</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">writer</span><span class="o">.</span><span class="na">writeStartElement</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">field</span> <span class="o">:</span> <span class="n">fields</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">Object</span> <span class="n">value</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="na">getField</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="k">instanceof</span> <span class="n">JsonObject</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-20"><td class="docs"><div class="pilwrap"><a href="#section-20" class="pilcrow">&#182;</a></div><p>process child</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="n">jsonToXml</span><span class="o">(</span><span class="n">writer</span><span class="o">,</span> <span class="o">(</span><span class="n">JsonObject</span><span class="o">)</span> <span class="n">value</span><span class="o">,</span> <span class="n">field</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">value</span> <span class="k">instanceof</span> <span class="n">JsonArray</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">jsonToXml</span><span class="o">(</span><span class="n">writer</span><span class="o">,</span> <span class="o">(</span><span class="n">JsonArray</span><span class="o">)</span> <span class="n">value</span><span class="o">,</span> <span class="n">field</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span></pre></div></td></tr><tr id="section-21"><td class="docs"><div class="pilwrap"><a href="#section-21" class="pilcrow">&#182;</a></div><p>Writing a few attributes</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="k">if</span> <span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="sc">&#39;@&#39;</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">writer</span><span class="o">.</span><span class="na">writeAttribute</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">1</span><span class="o">),</span> <span class="n">json</span><span class="o">.</span><span class="na">getValue</span><span class="o">(</span><span class="n">field</span><span class="o">).</span><span class="na">toString</span><span class="o">());</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="s">&quot;$&quot;</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">field</span><span class="o">))</span> <span class="o">{</span>
                        <span class="n">writer</span><span class="o">.</span><span class="na">writeCharacters</span><span class="o">(</span><span class="n">json</span><span class="o">.</span><span class="na">getValue</span><span class="o">(</span><span class="n">field</span><span class="o">).</span><span class="na">toString</span><span class="o">());</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span></pre></div></td></tr><tr id="section-22"><td class="docs"><div class="pilwrap"><a href="#section-22" class="pilcrow">&#182;</a></div><p>end with element name</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">writer</span><span class="o">.</span><span class="na">writeEndElement</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">jsonToXml</span><span class="o">(</span><span class="n">XMLStreamWriter</span> <span class="n">writer</span><span class="o">,</span> <span class="n">JsonArray</span> <span class="n">json</span><span class="o">,</span> <span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">XMLStreamException</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">json</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-23"><td class="docs"><div class="pilwrap"><a href="#section-23" class="pilcrow">&#182;</a></div><p>start with element name</p>
</td><td class="code"><div class="highlight"><pre>            <span class="n">writer</span><span class="o">.</span><span class="na">writeEmptyElement</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">json</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">Object</span> <span class="n">element</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">element</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">writer</span><span class="o">.</span><span class="na">writeEmptyElement</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
                <span class="k">continue</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">element</span> <span class="k">instanceof</span> <span class="n">JsonObject</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">jsonToXml</span><span class="o">(</span><span class="n">writer</span><span class="o">,</span> <span class="o">(</span><span class="n">JsonObject</span><span class="o">)</span> <span class="n">element</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
                <span class="k">continue</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">element</span> <span class="k">instanceof</span> <span class="n">JsonArray</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">jsonToXml</span><span class="o">(</span><span class="n">writer</span><span class="o">,</span> <span class="o">(</span><span class="n">JsonArray</span><span class="o">)</span> <span class="n">element</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
                <span class="k">continue</span><span class="o">;</span>
            <span class="o">}</span></pre></div></td></tr><tr id="section-24"><td class="docs"><div class="pilwrap"><a href="#section-24" class="pilcrow">&#182;</a></div><p>start with element name</p>
</td><td class="code"><div class="highlight"><pre>            <span class="n">writer</span><span class="o">.</span><span class="na">writeStartElement</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
            <span class="n">writer</span><span class="o">.</span><span class="na">writeCharacters</span><span class="o">(</span><span class="n">element</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span></pre></div></td></tr><tr id="section-25"><td class="docs"><div class="pilwrap"><a href="#section-25" class="pilcrow">&#182;</a></div><p>end with element name</p>
</td><td class="code"><div class="highlight"><pre>            <span class="n">writer</span><span class="o">.</span><span class="na">writeEndElement</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">encodeURIComponent</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">result</span><span class="o">;</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">URLEncoder</span><span class="o">.</span><span class="na">encode</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;\\+&quot;</span><span class="o">,</span> <span class="s">&quot;%20&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;%21&quot;</span><span class="o">,</span> <span class="s">&quot;!&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;%27&quot;</span><span class="o">,</span> <span class="s">&quot;&#39;&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;%28&quot;</span><span class="o">,</span> <span class="s">&quot;(&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;%29&quot;</span><span class="o">,</span> <span class="s">&quot;)&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">replaceAll</span><span class="o">(</span><span class="s">&quot;%7E&quot;</span><span class="o">,</span> <span class="s">&quot;~&quot;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">UnsupportedEncodingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">decodeURIComponent</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">result</span><span class="o">;</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">URLDecoder</span><span class="o">.</span><span class="na">decode</span><span class="o">(</span><span class="n">s</span><span class="o">,</span> <span class="s">&quot;UTF-8&quot;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">UnsupportedEncodingException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Thu Jan 30 2014 16:30:36 GMT+0100 (CET)  </div><div id="projectname"><a href="../../../../../../../../../index.html">Yoke</a></div></div></body></html>