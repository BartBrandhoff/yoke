<!DOCTYPE html><html><head><title>Session.java</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../../../../../../../../../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../../../../../../../../../index.html" class="source"><span class="file_name">README</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Engine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Engine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Yoke.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Yoke.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/TRACE.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">TRACE.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/ALL.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">ALL.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/PATCH.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">PATCH.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/CONNECT.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">CONNECT.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/GET.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">GET.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/HEAD.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">HEAD.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Path.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Path.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/PUT.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">PUT.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Consumes.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Consumes.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/DELETE.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">DELETE.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/OPTIONS.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">OPTIONS.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Produces.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Produces.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/POST.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">POST.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/MimeType.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">MimeType.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/Function.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">Function.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/StringPlaceholderEngine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">StringPlaceholderEngine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/AbstractEngine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">AbstractEngine.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/DeflateWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">DeflateWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/WriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">WriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/GZipWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">GZipWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/AbstractWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">AbstractWriterFilter.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/RequestProxy.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">RequestProxy.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/AuthHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">AuthHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeRequest.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeRequest.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/MethodOverride.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">MethodOverride.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BasicAuth.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BasicAuth.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Timeout.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Timeout.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Csrf.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Csrf.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/FormAuth.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">FormAuth.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Logger.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Logger.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeCookie.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeCookie.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Static.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Static.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/CookieParser.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">CookieParser.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/ResponseTime.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">ResponseTime.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BodyParser.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BodyParser.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/ErrorHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">ErrorHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Session.java.html" class="source selected"><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Session.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Compress.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Compress.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BridgeSecureHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BridgeSecureHandler.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Vhost.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Vhost.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeFileUpload.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeFileUpload.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Favicon.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Favicon.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Limit.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Limit.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeResponse.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeResponse.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Router.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Router.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/SessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">SessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/SharedDataSessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">SharedDataSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/RedisSessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">RedisSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/AsyncIterator.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">AsyncIterator.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/LRUCache.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">LRUCache.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/Utils.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">Utils.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/test/Response.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">Response.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/test/YokeTester.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">YokeTester.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Middleware.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Middleware.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/YokeAsyncResult.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">YokeAsyncResult.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/JSON.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">JSON.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/impl/ThreadLocalUTCDateFormat.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / impl / </span><span class="file_name">ThreadLocalUTCDateFormat.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/YokeException.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">YokeException.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/Context.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">Context.java</span></a><a href="../../../../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/RequestWrapper.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">RequestWrapper.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/engine/GroovyTemplateEngine.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">GroovyTemplateEngine.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/GYoke.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / </span><span class="file_name">GYoke.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GRouter.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GRouter.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeRequest.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeRequest.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GFormAuth.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GFormAuth.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GBasicAuth.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GBasicAuth.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeFileUpload.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeFileUpload.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeResponse.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeResponse.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/store/GSharedDataSessionStore.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / store / </span><span class="file_name">GSharedDataSessionStore.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/test/GYokeTester.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / test / </span><span class="file_name">GYokeTester.java</span></a><a href="../../../../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/core/GMultiMap.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / core / </span><span class="file_name">GMultiMap.java</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/engine/MicroTemplateEngine.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / engine / </span><span class="file_name">MicroTemplateEngine.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/CookieParser.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">CookieParser.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Timeout.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Timeout.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Router.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Router.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Logger.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Logger.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/ErrorHandler.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">ErrorHandler.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Session.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Session.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/ResponseTime.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">ResponseTime.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Vhost.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Vhost.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/BodyParser.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">BodyParser.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Favicon.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Favicon.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/BasicAuth.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">BasicAuth.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Limit.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Limit.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/Static.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Static.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/middleware/MethodOverride.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">MethodOverride.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/util/Utils.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / util / </span><span class="file_name">Utils.js</span></a><a href="../../../../../../../../../framework/src/main/resources/yoke/Yoke.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / </span><span class="file_name">Yoke.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>Session.java</h1><div class="filepath">framework/src/main/java/com/jetdrone/vertx/yoke/middleware/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Copyright 2011-2014 the original author or authors.</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">jetdrone</span><span class="o">.</span><span class="na">vertx</span><span class="o">.</span><span class="na">yoke</span><span class="o">.</span><span class="na">middleware</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.jetdrone.vertx.yoke.Middleware</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.vertx.java.core.Handler</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.vertx.java.core.json.JsonObject</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.crypto.Mac</span><span class="o">;</span></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><h1>Session</h1></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Session</span> <span class="kd">extends</span> <span class="n">Middleware</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Mac</span> <span class="n">hmacSHA256</span><span class="o">;</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">path</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Boolean</span> <span class="n">httpOnly</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">maxAge</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Session</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">path</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">httpOnly</span><span class="o">,</span> <span class="kt">long</span> <span class="n">maxAge</span><span class="o">,</span> <span class="n">Mac</span> <span class="n">mac</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">httpOnly</span> <span class="o">=</span> <span class="n">httpOnly</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">maxAge</span> <span class="o">=</span> <span class="n">maxAge</span><span class="o">;</span>
        <span class="n">hmacSHA256</span> <span class="o">=</span> <span class="n">mac</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Session</span><span class="o">(</span><span class="n">String</span> <span class="n">path</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">httpOnly</span><span class="o">,</span> <span class="kt">long</span> <span class="n">maxAge</span><span class="o">,</span> <span class="n">Mac</span> <span class="n">mac</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">(</span><span class="s">&quot;yoke.sess&quot;</span><span class="o">,</span> <span class="n">path</span><span class="o">,</span> <span class="n">httpOnly</span><span class="o">,</span> <span class="n">maxAge</span><span class="o">,</span> <span class="n">mac</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Session</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">httpOnly</span><span class="o">,</span> <span class="kt">long</span> <span class="n">maxAge</span><span class="o">,</span> <span class="n">Mac</span> <span class="n">mac</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">(</span><span class="s">&quot;yoke.sess&quot;</span><span class="o">,</span> <span class="s">&quot;/&quot;</span><span class="o">,</span> <span class="n">httpOnly</span><span class="o">,</span> <span class="n">maxAge</span><span class="o">,</span> <span class="n">mac</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Session</span><span class="o">(</span><span class="kt">long</span> <span class="n">maxAge</span><span class="o">,</span> <span class="n">Mac</span> <span class="n">mac</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">(</span><span class="s">&quot;yoke.sess&quot;</span><span class="o">,</span> <span class="s">&quot;/&quot;</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="n">maxAge</span><span class="o">,</span> <span class="n">mac</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Session</span><span class="o">(</span><span class="n">Mac</span> <span class="n">mac</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">(</span><span class="s">&quot;yoke.sess&quot;</span><span class="o">,</span> <span class="s">&quot;/&quot;</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">1000</span><span class="o">,</span> <span class="n">mac</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="kd">final</span> <span class="n">YokeRequest</span> <span class="n">request</span><span class="o">,</span> <span class="kd">final</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><p>default session</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">final</span> <span class="n">YokeCookie</span> <span class="n">cookie</span> <span class="o">=</span> <span class="k">new</span> <span class="n">YokeCookie</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">hmacSHA256</span><span class="o">);</span>
        <span class="n">cookie</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="n">path</span><span class="o">);</span>
        <span class="n">cookie</span><span class="o">.</span><span class="na">setHttpOnly</span><span class="o">(</span><span class="n">httpOnly</span><span class="o">);</span>
        <span class="n">cookie</span><span class="o">.</span><span class="na">setMaxAge</span><span class="o">(</span><span class="n">maxAge</span><span class="o">);</span></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>path validation mismatch</p>
</td><td class="code"><div class="highlight"><pre>        <span class="k">if</span> <span class="o">(</span><span class="n">request</span><span class="o">.</span><span class="na">normalizedPath</span><span class="o">().</span><span class="na">indexOf</span><span class="o">(</span><span class="n">cookie</span><span class="o">.</span><span class="na">getPath</span><span class="o">())</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>find the session cookie</p>
</td><td class="code"><div class="highlight"><pre>        <span class="kd">final</span> <span class="n">YokeCookie</span> <span class="n">sessionCookie</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getCookie</span><span class="o">(</span><span class="n">name</span><span class="o">);</span>
        <span class="kd">final</span> <span class="n">YokeResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">response</span><span class="o">();</span>

        <span class="kt">int</span> <span class="n">hash</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">unsigned</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">sessionCookie</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><p>session cookies must be signed</p>
</td><td class="code"><div class="highlight"><pre>            <span class="k">if</span> <span class="o">(</span><span class="n">sessionCookie</span><span class="o">.</span><span class="na">isSigned</span><span class="o">())</span> <span class="o">{</span>
                <span class="n">unsigned</span> <span class="o">=</span> <span class="n">sessionCookie</span><span class="o">.</span><span class="na">getUnsignedValue</span><span class="o">();</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">unsigned</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">hash</span> <span class="o">=</span> <span class="n">crc16</span><span class="o">(</span><span class="n">unsigned</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="kd">final</span> <span class="kt">int</span> <span class="n">originalHash</span> <span class="o">=</span> <span class="n">hash</span><span class="o">;</span></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><p>call us when headers are being set for the response</p>
</td><td class="code"><div class="highlight"><pre>        <span class="n">response</span><span class="o">.</span><span class="na">headersHandler</span><span class="o">(</span><span class="k">new</span> <span class="n">Handler</span><span class="o">&lt;</span><span class="n">Void</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">handle</span><span class="o">(</span><span class="n">Void</span> <span class="n">done</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">JsonObject</span> <span class="n">session</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&quot;session&quot;</span><span class="o">);</span>
                <span class="n">String</span> <span class="n">sessionId</span> <span class="o">=</span> <span class="n">session</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="n">session</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;id&quot;</span><span class="o">);</span></pre></div></td></tr><tr id="section-8"><td class="docs"><div class="pilwrap"><a href="#section-8" class="pilcrow">&#182;</a></div><p>removed</p>
</td><td class="code"><div class="highlight"><pre>                <span class="k">if</span> <span class="o">(</span><span class="n">sessionId</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">sessionCookie</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">cookie</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">);</span>
                        <span class="n">cookie</span><span class="o">.</span><span class="na">setMaxAge</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
                        <span class="n">response</span><span class="o">.</span><span class="na">addCookie</span><span class="o">(</span><span class="n">cookie</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span></pre></div></td></tr><tr id="section-9"><td class="docs"><div class="pilwrap"><a href="#section-9" class="pilcrow">&#182;</a></div><p>only send secure cookies over https</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="k">if</span> <span class="o">(</span><span class="n">cookie</span><span class="o">.</span><span class="na">isSecure</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">request</span><span class="o">.</span><span class="na">isSecure</span><span class="o">())</span> <span class="o">{</span>
                        <span class="k">return</span><span class="o">;</span>
                    <span class="o">}</span></pre></div></td></tr><tr id="section-10"><td class="docs"><div class="pilwrap"><a href="#section-10" class="pilcrow">&#182;</a></div><p>compare hashes, no need to set-cookie if unchanged</p>
</td><td class="code"><div class="highlight"><pre>                    <span class="k">if</span> <span class="o">(</span><span class="n">originalHash</span> <span class="o">!=</span> <span class="n">crc16</span><span class="o">(</span><span class="n">sessionId</span><span class="o">))</span> <span class="o">{</span></pre></div></td></tr><tr id="section-11"><td class="docs"><div class="pilwrap"><a href="#section-11" class="pilcrow">&#182;</a></div><p>modified session</p>
</td><td class="code"><div class="highlight"><pre>                        <span class="n">cookie</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">sessionId</span><span class="o">);</span>
                        <span class="n">cookie</span><span class="o">.</span><span class="na">sign</span><span class="o">();</span>
                        <span class="n">response</span><span class="o">.</span><span class="na">addCookie</span><span class="o">(</span><span class="n">cookie</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">});</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">unsigned</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">next</span><span class="o">.</span><span class="na">handle</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="n">request</span><span class="o">.</span><span class="na">loadSession</span><span class="o">(</span><span class="n">unsigned</span><span class="o">,</span> <span class="n">next</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">CRC16_TABLE</span> <span class="o">=</span> <span class="o">{</span>
            <span class="mh">0x0000</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC0C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC181</span><span class="o">,</span> <span class="mh">0x0140</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC301</span><span class="o">,</span> <span class="mh">0x03</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x0280</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC241</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xC601</span><span class="o">,</span> <span class="mh">0x06</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x0780</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC741</span><span class="o">,</span> <span class="mh">0x0500</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC5C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC481</span><span class="o">,</span> <span class="mh">0x0440</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xCC01</span><span class="o">,</span> <span class="mh">0x0</span><span class="n">CC0</span><span class="o">,</span> <span class="mh">0x0</span><span class="n">D80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xCD41</span><span class="o">,</span> <span class="mh">0x0</span><span class="n">F00</span><span class="o">,</span> <span class="mi">0</span><span class="n">xCFC1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xCE81</span><span class="o">,</span> <span class="mh">0x0</span><span class="n">E40</span><span class="o">,</span>
            <span class="mh">0x0</span><span class="n">A00</span><span class="o">,</span> <span class="mi">0</span><span class="n">xCAC1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xCB81</span><span class="o">,</span> <span class="mh">0x0</span><span class="n">B40</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC901</span><span class="o">,</span> <span class="mh">0x09</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x0880</span><span class="o">,</span> <span class="mi">0</span><span class="n">xC841</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xD801</span><span class="o">,</span> <span class="mh">0x18</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x1980</span><span class="o">,</span> <span class="mi">0</span><span class="n">xD941</span><span class="o">,</span> <span class="mh">0x1</span><span class="n">B00</span><span class="o">,</span> <span class="mi">0</span><span class="n">xDBC1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xDA81</span><span class="o">,</span> <span class="mh">0x1</span><span class="n">A40</span><span class="o">,</span>
            <span class="mh">0x1</span><span class="n">E00</span><span class="o">,</span> <span class="mi">0</span><span class="n">xDEC1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xDF81</span><span class="o">,</span> <span class="mh">0x1</span><span class="n">F40</span><span class="o">,</span> <span class="mi">0</span><span class="n">xDD01</span><span class="o">,</span> <span class="mh">0x1</span><span class="n">DC0</span><span class="o">,</span> <span class="mh">0x1</span><span class="n">C80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xDC41</span><span class="o">,</span>
            <span class="mh">0x1400</span><span class="o">,</span> <span class="mi">0</span><span class="n">xD4C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xD581</span><span class="o">,</span> <span class="mh">0x1540</span><span class="o">,</span> <span class="mi">0</span><span class="n">xD701</span><span class="o">,</span> <span class="mh">0x17</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x1680</span><span class="o">,</span> <span class="mi">0</span><span class="n">xD641</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xD201</span><span class="o">,</span> <span class="mh">0x12</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x1380</span><span class="o">,</span> <span class="mi">0</span><span class="n">xD341</span><span class="o">,</span> <span class="mh">0x1100</span><span class="o">,</span> <span class="mi">0</span><span class="n">xD1C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xD081</span><span class="o">,</span> <span class="mh">0x1040</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xF001</span><span class="o">,</span> <span class="mh">0x30</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x3180</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF141</span><span class="o">,</span> <span class="mh">0x3300</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF3C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF281</span><span class="o">,</span> <span class="mh">0x3240</span><span class="o">,</span>
            <span class="mh">0x3600</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF6C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF781</span><span class="o">,</span> <span class="mh">0x3740</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF501</span><span class="o">,</span> <span class="mh">0x35</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x3480</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF441</span><span class="o">,</span>
            <span class="mh">0x3</span><span class="n">C00</span><span class="o">,</span> <span class="mi">0</span><span class="n">xFCC1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xFD81</span><span class="o">,</span> <span class="mh">0x3</span><span class="n">D40</span><span class="o">,</span> <span class="mi">0</span><span class="n">xFF01</span><span class="o">,</span> <span class="mh">0x3</span><span class="n">FC0</span><span class="o">,</span> <span class="mh">0x3</span><span class="n">E80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xFE41</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xFA01</span><span class="o">,</span> <span class="mh">0x3</span><span class="n">AC0</span><span class="o">,</span> <span class="mh">0x3</span><span class="n">B80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xFB41</span><span class="o">,</span> <span class="mh">0x3900</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF9C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xF881</span><span class="o">,</span> <span class="mh">0x3840</span><span class="o">,</span>
            <span class="mh">0x2800</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE8C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE981</span><span class="o">,</span> <span class="mh">0x2940</span><span class="o">,</span> <span class="mi">0</span><span class="n">xEB01</span><span class="o">,</span> <span class="mh">0x2</span><span class="n">BC0</span><span class="o">,</span> <span class="mh">0x2</span><span class="n">A80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xEA41</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xEE01</span><span class="o">,</span> <span class="mh">0x2</span><span class="n">EC0</span><span class="o">,</span> <span class="mh">0x2</span><span class="n">F80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xEF41</span><span class="o">,</span> <span class="mh">0x2</span><span class="n">D00</span><span class="o">,</span> <span class="mi">0</span><span class="n">xEDC1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xEC81</span><span class="o">,</span> <span class="mh">0x2</span><span class="n">C40</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xE401</span><span class="o">,</span> <span class="mh">0x24</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x2580</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE541</span><span class="o">,</span> <span class="mh">0x2700</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE7C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE681</span><span class="o">,</span> <span class="mh">0x2640</span><span class="o">,</span>
            <span class="mh">0x2200</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE2C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE381</span><span class="o">,</span> <span class="mh">0x2340</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE101</span><span class="o">,</span> <span class="mh">0x21</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x2080</span><span class="o">,</span> <span class="mi">0</span><span class="n">xE041</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xA001</span><span class="o">,</span> <span class="mh">0x60</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x6180</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA141</span><span class="o">,</span> <span class="mh">0x6300</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA3C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA281</span><span class="o">,</span> <span class="mh">0x6240</span><span class="o">,</span>
            <span class="mh">0x6600</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA6C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA781</span><span class="o">,</span> <span class="mh">0x6740</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA501</span><span class="o">,</span> <span class="mh">0x65</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x6480</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA441</span><span class="o">,</span>
            <span class="mh">0x6</span><span class="n">C00</span><span class="o">,</span> <span class="mi">0</span><span class="n">xACC1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xAD81</span><span class="o">,</span> <span class="mh">0x6</span><span class="n">D40</span><span class="o">,</span> <span class="mi">0</span><span class="n">xAF01</span><span class="o">,</span> <span class="mh">0x6</span><span class="n">FC0</span><span class="o">,</span> <span class="mh">0x6</span><span class="n">E80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xAE41</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xAA01</span><span class="o">,</span> <span class="mh">0x6</span><span class="n">AC0</span><span class="o">,</span> <span class="mh">0x6</span><span class="n">B80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xAB41</span><span class="o">,</span> <span class="mh">0x6900</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA9C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xA881</span><span class="o">,</span> <span class="mh">0x6840</span><span class="o">,</span>
            <span class="mh">0x7800</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB8C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB981</span><span class="o">,</span> <span class="mh">0x7940</span><span class="o">,</span> <span class="mi">0</span><span class="n">xBB01</span><span class="o">,</span> <span class="mh">0x7</span><span class="n">BC0</span><span class="o">,</span> <span class="mh">0x7</span><span class="n">A80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xBA41</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xBE01</span><span class="o">,</span> <span class="mh">0x7</span><span class="n">EC0</span><span class="o">,</span> <span class="mh">0x7</span><span class="n">F80</span><span class="o">,</span> <span class="mi">0</span><span class="n">xBF41</span><span class="o">,</span> <span class="mh">0x7</span><span class="n">D00</span><span class="o">,</span> <span class="mi">0</span><span class="n">xBDC1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xBC81</span><span class="o">,</span> <span class="mh">0x7</span><span class="n">C40</span><span class="o">,</span>
            <span class="mi">0</span><span class="n">xB401</span><span class="o">,</span> <span class="mh">0x74</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x7580</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB541</span><span class="o">,</span> <span class="mh">0x7700</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB7C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB681</span><span class="o">,</span> <span class="mh">0x7640</span><span class="o">,</span>
            <span class="mh">0x7200</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB2C1</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB381</span><span class="o">,</span> <span class="mh">0x7340</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB101</span><span class="o">,</span> <span class="mh">0x71</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x7080</span><span class="o">,</span> <span class="mi">0</span><span class="n">xB041</span><span class="o">,</span>
            <span class="mh">0x5000</span><span class="o">,</span> <span class="mh">0x90</span><span class="n">C1</span><span class="o">,</span> <span class="mh">0x9181</span><span class="o">,</span> <span class="mh">0x5140</span><span class="o">,</span> <span class="mh">0x9301</span><span class="o">,</span> <span class="mh">0x53</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x5280</span><span class="o">,</span> <span class="mh">0x9241</span><span class="o">,</span>
            <span class="mh">0x9601</span><span class="o">,</span> <span class="mh">0x56</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x5780</span><span class="o">,</span> <span class="mh">0x9741</span><span class="o">,</span> <span class="mh">0x5500</span><span class="o">,</span> <span class="mh">0x95</span><span class="n">C1</span><span class="o">,</span> <span class="mh">0x9481</span><span class="o">,</span> <span class="mh">0x5440</span><span class="o">,</span>
            <span class="mh">0x9</span><span class="n">C01</span><span class="o">,</span> <span class="mh">0x5</span><span class="n">CC0</span><span class="o">,</span> <span class="mh">0x5</span><span class="n">D80</span><span class="o">,</span> <span class="mh">0x9</span><span class="n">D41</span><span class="o">,</span> <span class="mh">0x5</span><span class="n">F00</span><span class="o">,</span> <span class="mh">0x9</span><span class="n">FC1</span><span class="o">,</span> <span class="mh">0x9</span><span class="n">E81</span><span class="o">,</span> <span class="mh">0x5</span><span class="n">E40</span><span class="o">,</span>
            <span class="mh">0x5</span><span class="n">A00</span><span class="o">,</span> <span class="mh">0x9</span><span class="n">AC1</span><span class="o">,</span> <span class="mh">0x9</span><span class="n">B81</span><span class="o">,</span> <span class="mh">0x5</span><span class="n">B40</span><span class="o">,</span> <span class="mh">0x9901</span><span class="o">,</span> <span class="mh">0x59</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x5880</span><span class="o">,</span> <span class="mh">0x9841</span><span class="o">,</span>
            <span class="mh">0x8801</span><span class="o">,</span> <span class="mh">0x48</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x4980</span><span class="o">,</span> <span class="mh">0x8941</span><span class="o">,</span> <span class="mh">0x4</span><span class="n">B00</span><span class="o">,</span> <span class="mh">0x8</span><span class="n">BC1</span><span class="o">,</span> <span class="mh">0x8</span><span class="n">A81</span><span class="o">,</span> <span class="mh">0x4</span><span class="n">A40</span><span class="o">,</span>
            <span class="mh">0x4</span><span class="n">E00</span><span class="o">,</span> <span class="mh">0x8</span><span class="n">EC1</span><span class="o">,</span> <span class="mh">0x8</span><span class="n">F81</span><span class="o">,</span> <span class="mh">0x4</span><span class="n">F40</span><span class="o">,</span> <span class="mh">0x8</span><span class="n">D01</span><span class="o">,</span> <span class="mh">0x4</span><span class="n">DC0</span><span class="o">,</span> <span class="mh">0x4</span><span class="n">C80</span><span class="o">,</span> <span class="mh">0x8</span><span class="n">C41</span><span class="o">,</span>
            <span class="mh">0x4400</span><span class="o">,</span> <span class="mh">0x84</span><span class="n">C1</span><span class="o">,</span> <span class="mh">0x8581</span><span class="o">,</span> <span class="mh">0x4540</span><span class="o">,</span> <span class="mh">0x8701</span><span class="o">,</span> <span class="mh">0x47</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x4680</span><span class="o">,</span> <span class="mh">0x8641</span><span class="o">,</span>
            <span class="mh">0x8201</span><span class="o">,</span> <span class="mh">0x42</span><span class="n">C0</span><span class="o">,</span> <span class="mh">0x4380</span><span class="o">,</span> <span class="mh">0x8341</span><span class="o">,</span> <span class="mh">0x4100</span><span class="o">,</span> <span class="mh">0x81</span><span class="n">C1</span><span class="o">,</span> <span class="mh">0x8081</span><span class="o">,</span> <span class="mh">0x4040</span><span class="o">,</span>
    <span class="o">};</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">crc16</span><span class="o">(</span><span class="n">String</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">bytes</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getBytes</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">crc</span> <span class="o">=</span> <span class="mh">0x0000</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">byte</span> <span class="n">b</span> <span class="o">:</span> <span class="n">bytes</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">crc</span> <span class="o">=</span> <span class="o">(</span><span class="n">crc</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">8</span><span class="o">)</span> <span class="o">^</span> <span class="n">CRC16_TABLE</span><span class="o">[(</span><span class="n">crc</span> <span class="o">^</span> <span class="n">b</span><span class="o">)</span> <span class="o">&amp;</span> <span class="mh">0xff</span><span class="o">];</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">crc</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Thu Jan 30 2014 16:30:34 GMT+0100 (CET)  </div><div id="projectname"><a href="../../../../../../../../../index.html">Yoke</a></div></div></body></html>