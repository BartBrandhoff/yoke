<!DOCTYPE html><html><head><title>MicroTemplateEngine.js</title><meta http-equiv="Content-Type" content="text/html" charset="UTF-8"><link rel="stylesheet" media="all" href="../../../../../../docco.css"></head><body><div id="container"><div id="background"></div><div id="jump_to">Jump To &hellip;<div id="jump_wrapper"><div id="jump_page"><a href="../../../../../../index.html" class="source"><span class="file_name">README</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Engine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Engine.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Yoke.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Yoke.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/TRACE.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">TRACE.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/ALL.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">ALL.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/PATCH.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">PATCH.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/CONNECT.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">CONNECT.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/GET.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">GET.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/HEAD.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">HEAD.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Path.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Path.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/PUT.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">PUT.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Consumes.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Consumes.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/DELETE.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">DELETE.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/OPTIONS.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">OPTIONS.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/Produces.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">Produces.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/annotations/POST.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / annotations / </span><span class="file_name">POST.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/MimeType.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">MimeType.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/Function.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">Function.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/StringPlaceholderEngine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">StringPlaceholderEngine.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/engine/AbstractEngine.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">AbstractEngine.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/DeflateWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">DeflateWriterFilter.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/WriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">WriterFilter.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/GZipWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">GZipWriterFilter.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/filters/AbstractWriterFilter.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / filters / </span><span class="file_name">AbstractWriterFilter.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/RequestProxy.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">RequestProxy.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/AuthHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">AuthHandler.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeRequest.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeRequest.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/MethodOverride.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">MethodOverride.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BasicAuth.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BasicAuth.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Timeout.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Timeout.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Csrf.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Csrf.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/FormAuth.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">FormAuth.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Logger.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Logger.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeCookie.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeCookie.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Static.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Static.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/CookieParser.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">CookieParser.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/ResponseTime.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">ResponseTime.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BodyParser.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BodyParser.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/ErrorHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">ErrorHandler.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Session.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Session.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Compress.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Compress.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/BridgeSecureHandler.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">BridgeSecureHandler.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Vhost.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Vhost.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeFileUpload.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeFileUpload.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Favicon.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Favicon.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Limit.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Limit.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/YokeResponse.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">YokeResponse.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/middleware/Router.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">Router.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/SessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">SessionStore.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/SharedDataSessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">SharedDataSessionStore.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/store/RedisSessionStore.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / store / </span><span class="file_name">RedisSessionStore.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/AsyncIterator.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">AsyncIterator.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/LRUCache.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">LRUCache.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/util/Utils.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / util / </span><span class="file_name">Utils.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/test/Response.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">Response.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/test/YokeTester.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">YokeTester.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/Middleware.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / </span><span class="file_name">Middleware.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/YokeAsyncResult.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">YokeAsyncResult.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/JSON.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">JSON.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/impl/ThreadLocalUTCDateFormat.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / impl / </span><span class="file_name">ThreadLocalUTCDateFormat.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/YokeException.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">YokeException.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/Context.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">Context.java</span></a><a href="../../../../../../framework/src/main/java/com/jetdrone/vertx/yoke/core/RequestWrapper.java.html" class="source "><span class="base_path">framework / src / main / java / com / jetdrone / vertx / yoke / core / </span><span class="file_name">RequestWrapper.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/engine/GroovyTemplateEngine.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / engine / </span><span class="file_name">GroovyTemplateEngine.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/GYoke.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / </span><span class="file_name">GYoke.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GRouter.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GRouter.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeRequest.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeRequest.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GFormAuth.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GFormAuth.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GBasicAuth.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GBasicAuth.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeFileUpload.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeFileUpload.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/middleware/GYokeResponse.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / middleware / </span><span class="file_name">GYokeResponse.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/store/GSharedDataSessionStore.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / store / </span><span class="file_name">GSharedDataSessionStore.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/test/GYokeTester.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / test / </span><span class="file_name">GYokeTester.java</span></a><a href="../../../../../../framework/src/main/groovy/com/jetdrone/vertx/yoke/core/GMultiMap.java.html" class="source "><span class="base_path">framework / src / main / groovy / com / jetdrone / vertx / yoke / core / </span><span class="file_name">GMultiMap.java</span></a><a href="../../../../../../framework/src/main/resources/yoke/engine/MicroTemplateEngine.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / engine / </span><span class="file_name">MicroTemplateEngine.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/CookieParser.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">CookieParser.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/Timeout.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Timeout.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/Router.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Router.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/Logger.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Logger.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/ErrorHandler.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">ErrorHandler.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/Session.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Session.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/ResponseTime.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">ResponseTime.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/Vhost.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Vhost.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/BodyParser.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">BodyParser.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/Favicon.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Favicon.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/BasicAuth.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">BasicAuth.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/Limit.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Limit.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/Static.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">Static.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/middleware/MethodOverride.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / middleware / </span><span class="file_name">MethodOverride.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/util/Utils.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / util / </span><span class="file_name">Utils.js</span></a><a href="../../../../../../framework/src/main/resources/yoke/Yoke.js.html" class="source "><span class="base_path">framework / src / main / resources / yoke / </span><span class="file_name">Yoke.js</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/engine/StringPlaceholderEngine.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / engine / </span><span class="file_name">StringPlaceholderEngine.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/VHost.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">VHost.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/YokeRequestTest.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">YokeRequestTest.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/MethodOverride.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">MethodOverride.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/BasicAuth.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">BasicAuth.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/Timeout.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">Timeout.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/RequestFunctions.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">RequestFunctions.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/ResponseTime.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">ResponseTime.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/BodyParser.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">BodyParser.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/Session.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">Session.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/Compress.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">Compress.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/Favicon.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">Favicon.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/Limit.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">Limit.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/middleware/Router.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / middleware / </span><span class="file_name">Router.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/JSTester.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">JSTester.java</span></a><a href="../../../../../../framework/src/test/java/com/jetdrone/vertx/yoke/test/MiddlewareTest.java.html" class="source "><span class="base_path">framework / src / test / java / com / jetdrone / vertx / yoke / test / </span><span class="file_name">MiddlewareTest.java</span></a><a href="../../../../../../framework/src/test/resources/integration_tests/jsyoke_tests.js.html" class="source "><span class="base_path">framework / src / test / resources / integration_tests / </span><span class="file_name">jsyoke_tests.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/engine/MicroTemplateEngine.js.html" class="source selected"><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / engine / </span><span class="file_name">MicroTemplateEngine.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/CookieParser.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">CookieParser.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/Timeout.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">Timeout.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/Router.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">Router.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/Logger.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">Logger.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/ErrorHandler.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">ErrorHandler.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/Session.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">Session.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/ResponseTime.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">ResponseTime.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/Vhost.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">Vhost.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/BodyParser.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">BodyParser.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/Favicon.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">Favicon.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/BasicAuth.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">BasicAuth.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/Limit.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">Limit.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/Static.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">Static.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/middleware/MethodOverride.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / middleware / </span><span class="file_name">MethodOverride.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/util/Utils.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / util / </span><span class="file_name">Utils.js</span></a><a href="../../../../../../framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/Yoke.js.html" class="source "><span class="base_path">framework / build / mods / com.jetdrone~yoke~1.0.5-SNAPSHOT / yoke / </span><span class="file_name">Yoke.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx_tests.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / </span><span class="file_name">vertx_tests.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / </span><span class="file_name">vertx.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/test_utils.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / </span><span class="file_name">test_utils.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/timer.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">timer.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/http.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">http.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/shared_data.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">shared_data.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/helpers.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">helpers.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/ssl_support.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">ssl_support.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/write_stream.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">write_stream.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/parse_tools.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">parse_tools.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/buffer.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">buffer.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/container.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">container.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/read_stream.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">read_stream.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/net.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">net.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/file_system.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">file_system.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/multi_map.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">multi_map.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/pump.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">pump.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/event_bus.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">event_bus.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/console.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">console.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/tcp_support.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">tcp_support.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx/sockjs.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / vertx / </span><span class="file_name">sockjs.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/vertx_assert.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / </span><span class="file_name">vertx_assert.js</span></a><a href="../../../../../../framework/build/mods/io.vertx~lang-rhino~2.0.0-final/coffee-script.js.html" class="source "><span class="base_path">framework / build / mods / io.vertx~lang-rhino~2.0.0-final / </span><span class="file_name">coffee-script.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/engine/MicroTemplateEngine.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / engine / </span><span class="file_name">MicroTemplateEngine.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/CookieParser.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">CookieParser.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/Timeout.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">Timeout.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/Router.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">Router.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/Logger.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">Logger.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/ErrorHandler.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">ErrorHandler.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/Session.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">Session.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/ResponseTime.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">ResponseTime.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/Vhost.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">Vhost.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/BodyParser.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">BodyParser.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/Favicon.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">Favicon.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/BasicAuth.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">BasicAuth.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/Limit.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">Limit.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/Static.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">Static.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/middleware/MethodOverride.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / middleware / </span><span class="file_name">MethodOverride.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/util/Utils.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / util / </span><span class="file_name">Utils.js</span></a><a href="../../../../../../framework/build/resources/main/yoke/Yoke.js.html" class="source "><span class="base_path">framework / build / resources / main / yoke / </span><span class="file_name">Yoke.js</span></a><a href="../../../../../../framework/build/resources/test/integration_tests/jsyoke_tests.js.html" class="source "><span class="base_path">framework / build / resources / test / integration_tests / </span><span class="file_name">jsyoke_tests.js</span></a><a href="../../../../../../framework/build/reports/tests/packages/js/report.js.html" class="source "><span class="base_path">framework / build / reports / tests / packages / js / </span><span class="file_name">report.js</span></a><a href="../../../../../../framework/build/reports/tests/js/report.js.html" class="source "><span class="base_path">framework / build / reports / tests / js / </span><span class="file_name">report.js</span></a><a href="../../../../../../framework/build/reports/tests/classes/js/report.js.html" class="source "><span class="base_path">framework / build / reports / tests / classes / js / </span><span class="file_name">report.js</span></a></div></div></div><table cellpadding="0" cellspacing="0"><thead><tr><th class="docs"><h1>MicroTemplateEngine.js</h1><div class="filepath">framework/build/mods/com.jetdrone~yoke~1.0.5-SNAPSHOT/yoke/engine/</div></th><th class="code"></th></tr></thead><tbody><tr id="section-1"><td class="docs"><div class="pilwrap"><a href="#section-1" class="pilcrow">&#182;</a></div><div class="dox"><div class="summary"><p>Copyright 2011-2014 the original author or authors.</p></div><div class="body"></div></div>
</td><td class="code"><div class="highlight"><pre></pre></div></td></tr><tr id="section-2"><td class="docs"><div class="pilwrap"><a href="#section-2" class="pilcrow">&#182;</a></div><p>utilities</p>
</td><td class="code"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">wrapAsyncResultHandler</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">org</span><span class="p">.</span><span class="nx">vertx</span><span class="p">.</span><span class="nx">java</span><span class="p">.</span><span class="nx">core</span><span class="p">.</span><span class="nx">AsyncResultHandler</span><span class="p">({</span>
        <span class="nx">handle</span><span class="o">:</span> <span class="nx">callback</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">wrapAsyncResult</span><span class="p">(</span><span class="nx">ex</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">com</span><span class="p">.</span><span class="nx">jetdrone</span><span class="p">.</span><span class="nx">vertx</span><span class="p">.</span><span class="nx">yoke</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">YokeAsyncResult</span><span class="p">(</span><span class="nx">ex</span><span class="p">,</span> <span class="nx">result</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">wrapMap</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">map</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">it</span> <span class="o">=</span> <span class="nx">map</span><span class="p">.</span><span class="nx">entrySet</span><span class="p">().</span><span class="nx">iterator</span><span class="p">();</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="k">while</span> <span class="p">(</span><span class="nx">it</span><span class="p">.</span><span class="nx">hasNext</span><span class="p">())</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">it</span><span class="p">.</span><span class="nx">next</span><span class="p">();</span>
            <span class="nx">result</span><span class="p">[</span><span class="nx">item</span><span class="p">.</span><span class="nx">getKey</span><span class="p">()]</span> <span class="o">=</span> <span class="nx">item</span><span class="p">.</span><span class="nx">getValue</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span></pre></div></td></tr><tr id="section-3"><td class="docs"><div class="pilwrap"><a href="#section-3" class="pilcrow">&#182;</a></div><p>real engine</p>
</td><td class="code"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">MicroTemplateEngine</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">jEngine</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">com</span><span class="p">.</span><span class="nx">jetdrone</span><span class="p">.</span><span class="nx">vertx</span><span class="p">.</span><span class="nx">yoke</span><span class="p">.</span><span class="nx">engine</span><span class="p">.</span><span class="nx">AbstractEngine</span><span class="p">({</span>
        <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">handler</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">jEngine</span><span class="p">.</span><span class="nx">read</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">wrapAsyncResultHandler</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">asyncResult</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">asyncResult</span><span class="p">.</span><span class="nx">failed</span><span class="p">())</span> <span class="p">{</span>
                    <span class="nx">handler</span><span class="p">.</span><span class="nx">handle</span><span class="p">(</span><span class="nx">wrapAsyncResult</span><span class="p">(</span><span class="nx">asyncResult</span><span class="p">.</span><span class="nx">cause</span><span class="p">()));</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">try</span> <span class="p">{</span>
                        <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">self</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">compile</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">asyncResult</span><span class="p">.</span><span class="nx">result</span><span class="p">()),</span> <span class="nx">context</span><span class="p">);</span>
                        <span class="nx">handler</span><span class="p">.</span><span class="nx">handle</span><span class="p">(</span><span class="nx">wrapAsyncResult</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">result</span><span class="p">));</span>
                    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">handler</span><span class="p">.</span><span class="nx">handle</span><span class="p">(</span><span class="nx">wrapAsyncResult</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span> <span class="kc">null</span><span class="p">));</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}));</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="nx">MicroTemplateEngine</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">compile</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">templateText</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">template</span> <span class="o">=</span> <span class="nx">self</span><span class="p">.</span><span class="nx">jEngine</span><span class="p">.</span><span class="nx">getTemplateFromCache</span><span class="p">(</span><span class="nx">filename</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">template</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr><tr id="section-4"><td class="docs"><div class="pilwrap"><a href="#section-4" class="pilcrow">&#182;</a></div><p>real compile
compile the template to a JS function</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">template</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">&quot;obj&quot;</span><span class="p">,</span>
            <span class="s2">&quot;var p=[],print=function(){p.push.apply(p,arguments);};&quot;</span> <span class="o">+</span></pre></div></td></tr><tr id="section-5"><td class="docs"><div class="pilwrap"><a href="#section-5" class="pilcrow">&#182;</a></div><p>Introduce the data as local variables using with(){}</p>
</td><td class="code"><div class="highlight"><pre>                <span class="s2">&quot;with(obj){p.push(&#39;&quot;</span> <span class="o">+</span></pre></div></td></tr><tr id="section-6"><td class="docs"><div class="pilwrap"><a href="#section-6" class="pilcrow">&#182;</a></div><p>Convert the template into pure JavaScript</p>
</td><td class="code"><div class="highlight"><pre>                <span class="nx">templateText</span>
                    <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[\r\t\n]/g</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;&lt;%&quot;</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\t&quot;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/((^|%&gt;)[^\t]*)&#39;/g</span><span class="p">,</span> <span class="s2">&quot;$1\r&quot;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\t=(.*?)%&gt;/g</span><span class="p">,</span> <span class="s2">&quot;&#39;,$1,&#39;&quot;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;\t&quot;</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;&#39;);&quot;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;%&gt;&quot;</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;p.push(&#39;&quot;</span><span class="p">)</span>
                    <span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot;\r&quot;</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;\\&#39;&quot;</span><span class="p">)</span>
                <span class="o">+</span> <span class="s2">&quot;&#39;);}return p.join(&#39;&#39;);&quot;</span><span class="p">);</span></pre></div></td></tr><tr id="section-7"><td class="docs"><div class="pilwrap"><a href="#section-7" class="pilcrow">&#182;</a></div><p>store it in the java layer</p>
</td><td class="code"><div class="highlight"><pre>        <span class="nx">self</span><span class="p">.</span><span class="nx">jEngine</span><span class="p">.</span><span class="nx">putTemplateToCache</span><span class="p">(</span><span class="nx">filename</span><span class="p">,</span> <span class="nx">template</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">template</span>
<span class="p">};</span>

<span class="nx">MicroTemplateEngine</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">render</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">template</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">template</span><span class="p">(</span><span class="nx">wrapMap</span><span class="p">(</span><span class="nx">context</span><span class="p">));</span>
<span class="p">};</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">MicroTemplateEngine</span><span class="p">;</span>

</pre></div></td></tr></tbody></table><div id="generated">generated Wed Jan 29 2014 17:06:53 GMT+0100 (CET)  </div><div id="projectname"><a href="../../../../../../index.html">Yoke</a></div></div></body></html>